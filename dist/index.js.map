{"version":3,"file":"index.js","sources":["../src/rest-client-provider/RestClientContext.ts","../src/rest-client-provider/HttpClient.ts","../src/hooks/use-prevprops/usePrevProps.ts","../src/rest-client-provider/RestClientProvider.tsx","../src/hooks/use-api-context/useApiContext.ts","../src/hooks/use-get-lazy/useGetLazy.ts","../src/hooks/use-get/use-get.ts","../src/hooks/use-post/usePost.ts","../src/hooks/use-delete/useDelete.ts","../src/hooks/use-put/usePut.ts","../src/hooks/use-patch/usePatch.ts"],"sourcesContent":["import React from 'react'\nimport { RestClientContextType } from '../types/RestClientProvider.types'\n\nexport const RestClientContext = React.createContext<RestClientContextType>({})\nexport const RestClientContextProvider = RestClientContext.Provider\nexport const RestclientContextConsumer = RestClientContext.Consumer\n","import {\n    HeaderTypes,\n    HttpClientConfig,\n    EndpointsConfigType,\n    ResolvePathOptions,\n    DoRequestConfigurationType\n} from '../types/HttpClient.types'\nimport axios from 'axios'\nimport { DoRequestResponseType } from '../types/HttpClient.types'\nimport _ from 'lodash'\n\n/**\n * This class contains the logic to interact with http requests\n * @author Alejandro Quiroz <alejandro.devop@gmail.com>\n * @version 1.0.0\n */\nclass HttpClient {\n    /**\n     * Http headers which you can find here: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers\n     */\n    private headers: HeaderTypes = {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n    }\n\n    private token?: string\n    private refreshToken?: string\n\n    // private readonly onRequestDone?: () => boolean\n    private readonly shouldRefreshToken?: (data?: any) => boolean\n    private readonly onRefreshToken?: () => void\n    /**\n     * Contains the server where the requests will be send\n     */\n    private readonly server: string | undefined\n\n    private readonly endpoints: EndpointsConfigType\n\n    constructor(config: HttpClientConfig) {\n        const { server, endpoints, onRefreshToken, shouldRefreshToken, auth } = config\n        this.server = server\n        this.endpoints = endpoints\n        this.shouldRefreshToken = shouldRefreshToken?.bind(this)\n        this.onRefreshToken = onRefreshToken?.bind(this)\n        if (auth !== undefined) {\n            this.addHeaders({ Authorization: auth })\n        }\n    }\n\n    public addHeaders = (headers: HeaderTypes) => {\n        this.headers = {\n            ...this.headers,\n            ...headers\n        }\n    }\n\n    public setToken = (token?: string): HttpClient => {\n        this.token = token\n        return this\n    }\n\n    public setRefresh = (refresh?: string): HttpClient => {\n        this.refreshToken = refresh\n        return this\n    }\n\n    public getToken = () => {\n        return this.token\n    }\n\n    /**\n     * Current headers configured for the client\n     * @returns HeaderTypes\n     */\n    public getHeaders() {\n        return this.headers\n    }\n\n    /**\n     * Current configured server for the client\n     * @returns string\n     */\n    public getServer() {\n        return this.server\n    }\n    /**\n     * Current configured endpoints for the client\n     * @returns EndpointsConfigType\n     */\n    public getEndpoints() {\n        return this.endpoints\n    }\n\n    private findEndpoint(path: string) {\n        const parts = path.split('.')\n        const url =\n            parts.length > 1\n                ? parts\n                      .reduce((result: any, pathPortion): string | {} => {\n                          if (result[pathPortion]) {\n                              result = result[pathPortion]\n                          } else {\n                              // url must be reseted if the part does not exists\n                              result = '/invalid-path'\n                          }\n                          return result\n                      }, this.endpoints)\n                      .toString()\n                : `/${path}`\n        return url\n    }\n\n    private addUrlParams(url: string, options?: ResolvePathOptions) {\n        const { urlParams = {} } = options || {}\n        const params: string[] = []\n        Object.keys(urlParams).forEach((currentKey: string) => {\n            const value = encodeURIComponent(urlParams[currentKey])\n            params.push(`${currentKey}=${value}`)\n        })\n        if (params.length > 0) {\n            url = `${url}?${params.join('&')}`\n        }\n        return url\n    }\n\n    /**\n     * Loop for every key in the replacement object and replace the found keys\n     * for any assigned value\n     * @param url string\n     * @param options ResolvePathOptions\n     * @returns string\n     */\n    private executingReplacements(url: string, options?: ResolvePathOptions) {\n        const { replacements = {}, replacementConfig = {} } = options || {}\n        const { startToken = '{', endToken = '}' } = replacementConfig\n        Object.keys(replacements).map((currentKey) => {\n            url = url.replace(\n                new RegExp(`${startToken}${currentKey}${endToken}`),\n                replacements[currentKey].toString()\n            )\n        })\n        return url\n    }\n\n    private clearMethod(url: string) {\n        /**\n         * If the url has type definition we must clean it\n         */\n        if (url.includes('<') && url.includes('>')) {\n            url = url.replace(new RegExp(`<.*>`, 'g'), '')\n        }\n        return url\n    }\n\n    private getMethod(url: string) {\n        let type = ''\n        const matches = url.match(new RegExp('(<[a-zA-Z]+>)', 'g'))\n        const [match] = matches || []\n        type = match?.replace(new RegExp('<|>', 'g'), '')\n        return type\n    }\n\n    /**\n     * Converts a dot notation string into a valid url to make a request\n     * @param path string\n     * @param options ResolvePathOptions\n     * @returns [string, string]\n     */\n    public resolvePath(path: string, options?: ResolvePathOptions) {\n        let url = this.findEndpoint(path)\n        const urlDefinedMethod = this.getMethod(url)\n        url = this.clearMethod(url)\n        url = this.executingReplacements(url, options)\n        url = this.addUrlParams(url, options)\n        // Append a tailing slash to avoid conflicts for headers\n        if (options?.appendSlash) {\n            url = `${url}/`.replace(/\\/\\//g, '/')\n        }\n        return [`${this.server}${url}`, urlDefinedMethod]\n    }\n\n    public async doRequest(\n        path: string,\n        config?: DoRequestConfigurationType\n    ): Promise<DoRequestResponseType> {\n        const [url, methodType] = this.resolvePath(path, config)\n        const { method = 'get', form, headers } = config || {}\n\n        if (!_.isEmpty(methodType) && methodType !== method) {\n            throw new Error('Invalid method for endpoint')\n        }\n        const mergedHeaders = {\n            ...this.headers,\n            ...headers\n        }\n\n        try {\n            const sendRequest = async () => {\n                let payload = config?.payload || {}\n                let formData = new FormData()\n                if (form === true && payload) {\n                    mergedHeaders['Content-Type'] = 'multipart/form-data'\n                    Object.keys(payload).forEach((formKey) => {\n                        formData.append(formKey, payload[formKey])\n                    })\n                }\n\n                if (method === 'post') {\n                    const response = await axios.post(url, payload, {\n                        headers: {\n                            ...mergedHeaders\n                        }\n                    })\n                    const { data, status } = response\n                    return {\n                        status,\n                        data\n                    }\n                } else if (method === 'put') {\n                    const response = await axios.put(url, payload, {\n                        headers: mergedHeaders\n                    })\n                    const { data, status } = response\n                    return {\n                        status,\n                        data\n                    }\n                } else if (method === 'patch') {\n                    const { data, status } = await axios.patch(url, payload, {\n                        headers: mergedHeaders\n                    })\n                    return {\n                        status,\n                        data\n                    }\n                } else if (method === 'delete') {\n                    const { data, status } = await axios.delete(url, {\n                        headers: mergedHeaders\n                    })\n                    return {\n                        status,\n                        data\n                    }\n                } else {\n                    const { data, status } = await axios.get(url, {\n                        headers: mergedHeaders\n                    })\n                    return {\n                        status,\n                        data\n                    }\n                }\n            }\n            if (this.shouldRefreshToken && this.onRefreshToken && this.refreshToken) {\n            }\n            const response = await sendRequest()\n            // console.log('Some response: ', response)\n            return response\n        } catch (error) {\n            const { data } = error.response\n            // console.log('Something goes wrong: ', error)\n            if (this.shouldRefreshToken && this.shouldRefreshToken(data) && this.onRefreshToken) {\n                this.onRefreshToken()\n            }\n            throw {\n                error: true,\n                errorMessage: error.message,\n                status: error.status,\n                data: data\n            }\n        }\n    }\n}\n\nexport default HttpClient\n","import { useEffect, useRef } from 'react'\n\n/**\n * Hook to store the previous value for the props passed to a component\n * @author Alejandro Quiroz <alejandro.devop@gmail.com>\n * @version 1.0.0\n * @param value\n * @returns\n */\nconst usePrevProps = <R extends { [key: string]: any }>(value: R): R => {\n    const valuesRef = useRef(value)\n    useEffect(() => {\n        valuesRef.current = value\n    })\n    return valuesRef.current\n}\n\nexport default usePrevProps\n","import React from 'react'\nimport { RestClientContextProvider } from './RestClientContext'\nimport { HttpClientConfig } from '../types/HttpClient.types'\nimport HttpClient from './HttpClient'\nimport usePrevProps from '../hooks/use-prevprops/usePrevProps'\n\ntype ApiMockType = {\n    ok?: any\n    fail?: any\n    delay?: number\n}\n\ninterface RestClientProviderProps {\n    children: React.ReactNode\n    config: HttpClientConfig\n    mocks?: {\n        [k: string]: ApiMockType\n    }\n}\nconst RestClientProvider: React.FC<RestClientProviderProps> = ({ children, config }) => {\n    const httpClient = React.useRef(new HttpClient(config))\n    const prevProps = usePrevProps({ auth: config.auth })\n    React.useEffect(() => {\n        if (prevProps.auth !== config.auth) {\n            httpClient.current.addHeaders({ Authorization: config.auth })\n        }\n    }, [prevProps.auth, config.auth])\n\n    return (\n        <RestClientContextProvider\n            value={{\n                client: httpClient.current\n            }}\n        >\n            {children}\n        </RestClientContextProvider>\n    )\n}\n\nexport default RestClientProvider\n","import React from 'react'\nimport { RestClientContext } from '../../rest-client-provider/RestClientContext'\n\nconst useApiContext = () => {\n    const { client } = React.useContext(RestClientContext)\n    return {\n        client\n    }\n}\n\nexport default useApiContext\n","import React from 'react'\nimport useApiContext from '../use-api-context/useApiContext'\nimport { RequestConfigType, RequestConfigOverrideType } from '../../types/HttpClient.types'\n\ntype UseGetLazyReturnType = [(overrideOptions?: RequestConfigOverrideType) => Promise<any>, boolean]\n\nconst useGetLazy = <UrlType extends string>(\n    url: UrlType,\n    options?: RequestConfigType\n): UseGetLazyReturnType => {\n    const { onCompleted, replacements, urlParams } = options || {}\n    const [loading, setLoading] = React.useState<boolean>(false)\n    const { client } = useApiContext()\n\n    const sendRequest = React.useCallback(async (overrideOptions?: RequestConfigOverrideType) => {\n        try {\n            setLoading(true)\n            const { data } = (await client?.doRequest(url, {\n                urlParams,\n                replacements,\n                ...overrideOptions,\n                method: 'get'\n            })) as any\n            if (onCompleted) {\n                onCompleted(data)\n            }\n            setLoading(false)\n            return data\n        } catch (err) {\n            setLoading(false)\n            return {\n                error: true,\n                ...err\n            }\n        }\n    }, [])\n\n    return [sendRequest, loading]\n}\n\nexport default useGetLazy\n","import React from 'react'\nimport { RequestConfigType } from '../../types/HttpClient.types'\nimport useGetLazy from '../use-get-lazy/useGetLazy'\n\nconst useGet = <UrlType extends string, ResponseType extends any>(\n    url: UrlType,\n    options?: RequestConfigType\n): [ResponseType, boolean, { refresh: (o?: RequestConfigType) => Promise<void> }] => {\n    const { defaultData, onCompleted } = options || {}\n    const [sendRequest, loading] = useGetLazy(url, options)\n    const [data, setData] = React.useState<ResponseType>(defaultData)\n    const [requestedOnce, setRequestedOnce] = React.useState<boolean>(false)\n    const [requesting, setRequesting] = React.useState<boolean>(false)\n\n    const fetchData = React.useCallback(\n        async (overrideOptions?: RequestConfigType) => {\n            setRequesting(true)\n            let response = await sendRequest(overrideOptions)\n            if (onCompleted) {\n                await onCompleted(response, {\n                    retry: async (retryOverride?: RequestConfigType) => {\n                        response = await sendRequest({ ...overrideOptions, ...retryOverride })\n                    }\n                })\n            }\n            setData(response)\n            setRequestedOnce(true)\n            setRequesting(false)\n        },\n        [requesting, requestedOnce]\n    )\n\n    React.useEffect(() => {\n        if (!requesting && !requestedOnce) {\n            fetchData()\n        }\n    }, [requesting, requestedOnce])\n\n    return [\n        data,\n        loading,\n        {\n            refresh: fetchData\n        }\n    ]\n}\n\nexport default useGet\n","import React from 'react'\nimport useApiContext from '../use-api-context/useApiContext'\n\ntype UsePostReturnType = any\ntype OverrideOptionsType = any\n\nconst usePost = <UrlType extends string>(url: UrlType): UsePostReturnType => {\n    const [loading, setLoading] = React.useState(false)\n    const { client } = useApiContext()\n    const sendRequest = async <PayloadType = any>(\n        payload?: PayloadType,\n        overrideOptions?: OverrideOptionsType\n    ) => {\n        try {\n            setLoading(true)\n            const response = await client?.doRequest(url, {\n                payload: payload,\n                ...overrideOptions,\n                method: 'post'\n            })\n            setLoading(false)\n            const { data } = response as any\n            // ToDo: handle response for 500 errors\n            return data\n        } catch (err) {\n            setLoading(false)\n            return {\n                ...err\n            }\n        }\n    }\n    return [sendRequest, loading]\n}\n\nexport default usePost\n","import React from 'react'\nimport useApiContext from '../use-api-context/useApiContext'\n\ntype UseDeleteReturnType = any\ntype OverrideOptionsType = any\n\nconst useDelete = <UrlType extends string>(url: UrlType): UseDeleteReturnType => {\n    const [loading, setLoading] = React.useState(false)\n    const { client } = useApiContext()\n    const sendRequest = async (overrideOptions?: OverrideOptionsType) => {\n        try {\n            setLoading(true)\n            const response = await client?.doRequest(url, {\n                ...overrideOptions,\n                method: 'delete'\n            })\n            setLoading(false)\n            const { data } = response as any\n            // ToDo: handle response for 500 errors\n            return data\n        } catch (err) {\n            return {\n                ...err\n            }\n        }\n    }\n    return [sendRequest, loading]\n}\n\nexport default useDelete\n","import React from 'react'\nimport useApiContext from '../use-api-context/useApiContext'\n\ntype UsePutReturnType = any\ntype OverrideOptionsType = any\n\nconst usePut = <UrlType extends string>(url: UrlType): UsePutReturnType => {\n    const [loading, setLoading] = React.useState(false)\n    const { client } = useApiContext()\n    const sendRequest = async <PayloadType = any>(\n        payload?: PayloadType,\n        overrideOptions?: OverrideOptionsType\n    ) => {\n        try {\n            setLoading(true)\n            const response = await client?.doRequest(url, {\n                payload: payload,\n                ...overrideOptions,\n                method: 'put'\n            })\n            setLoading(false)\n            const { data } = response as any\n            // ToDo: handle response for 500 errors\n            return data\n        } catch (err) {\n            return {\n                ...err\n            }\n        }\n    }\n    return [sendRequest, loading]\n}\n\nexport default usePut\n","import React from 'react'\nimport useApiContext from '../use-api-context/useApiContext'\n\ntype UsePatchReturnType = any\ntype OverrideOptionsType = any\n\nconst usePatch = <UrlType extends string>(url: UrlType): UsePatchReturnType => {\n    const [loading, setLoading] = React.useState(false)\n    const { client } = useApiContext()\n    const sendRequest = async <PayloadType = any>(\n        payload?: PayloadType,\n        overrideOptions?: OverrideOptionsType\n    ) => {\n        try {\n            setLoading(true)\n            const response = await client?.doRequest(url, {\n                payload: payload,\n                ...overrideOptions,\n                method: 'patch'\n            })\n            setLoading(false)\n            const { data } = response as any\n            // ToDo: handle response for 500 errors\n            return data\n        } catch (err) {\n            return {\n                ...err\n            }\n        }\n    }\n    return [sendRequest, loading]\n}\n\nexport default usePatch\n"],"names":["React","_","axios","useRef","useEffect"],"mappings":"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"}